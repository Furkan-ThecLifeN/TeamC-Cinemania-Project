{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/heroTmdb.js","../src/js/hero.js","../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  const mobileMenuBtn = document.querySelector('.mobile-menu-btn');\n  const mobileMenu = document.querySelector('.mobile-menu');\n  const menuIcon = document.querySelector('.mobile-menu-icon use');\n  const body = document.body;\n\n  function toggleMenu() {\n    const isOpen = mobileMenu.classList.contains('is-open');\n    const svgHref = menuIcon.getAttribute('href').split('#')[0];\n\n    mobileMenu.classList.toggle('is-open');\n    mobileMenuBtn.setAttribute('aria-expanded', !isOpen);\n\n    menuIcon.setAttribute(\n      'href',\n\n      isOpen ? svgHref + '#icon-menu' : svgHref + '#icon-close'\n    );\n\n    body.style.overflow = isOpen ? '' : 'hidden';\n  }\n\n  if (mobileMenuBtn && mobileMenu) {\n    mobileMenuBtn.addEventListener('click', e => {\n      e.stopPropagation();\n      toggleMenu();\n    });\n\n    const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');\n    mobileNavLinks.forEach(link => {\n      link.addEventListener('click', () => {\n        toggleMenu();\n      });\n    });\n\n    document.addEventListener('click', e => {\n      if (\n        mobileMenu.classList.contains('is-open') &&\n        !e.target.closest('.mobile-menu') &&\n        !e.target.closest('.mobile-menu-btn')\n      ) {\n        toggleMenu();\n      }\n    });\n\n    mobileMenu.addEventListener('click', e => {\n      e.stopPropagation();\n    });\n\n    document.addEventListener('keydown', e => {\n      if (e.key === 'Escape' && mobileMenu.classList.contains('is-open')) {\n        toggleMenu();\n      }\n    });\n  }\n\n  const currentPath = window.location.pathname;\n  const navLinks = document.querySelectorAll('.nav-link, .mobile-nav-link');\n\n  navLinks.forEach(link => {\n    link.classList.remove('active');\n  });\n\n  if (currentPath.includes('catalog.html')) {\n    document.querySelectorAll('[data-page=\"catalog\"]').forEach(link => {\n      link.classList.add('active');\n    });\n  } else if (currentPath.includes('mylibrary.html')) {\n    document.querySelectorAll('[data-page=\"library\"]').forEach(link => {\n      link.classList.add('active');\n    });\n  } else {\n    document.querySelectorAll('[data-page=\"home\"]').forEach(link => {\n      link.classList.add('active');\n    });\n  }\n});\n","\nconst API_KEY = '0ce25b1b3df50695af6eae55a386f147'; \nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/original';\n\nexport async function getTrendingToday() {\n  const res = await fetch(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n  const data = await res.json();\n  return data.results;\n}\n\nexport { IMAGE_BASE_URL };\n\n","import { getTrendingToday, IMAGE_BASE_URL } from '../js/heroTmdb';\n\nexport async function renderHeroSection() {\n  const container = document.getElementById('hero-section');\n  try {\n    const movies = await getTrendingToday();\n\n    if (!movies || movies.length === 0) {\n      renderFallback(container);\n      return;\n    }\n\n    const movie = movies[Math.floor(Math.random() * movies.length)];\n\n    container.style.backgroundImage = `url('${IMAGE_BASE_URL}${movie.backdrop_path}')`;\n    container.innerHTML = `\n      <div class=\"hero-content\">\n        <h1 class=\"hero-title\">${movie.title}</h1>\n        <p class=\"hero-rating\">${getStarRating(movie.vote_average)}</p>\n        <p class=\"hero-overview\">${movie.overview?.slice(0, 200) || 'No description available.'}</p>\n        <div class=\"hero-buttons\">\n          <button class=\"hero-button\" data-id=\"${movie.id}\" id=\"more-details-btn\">More details</button>\n          <button class=\"hero-button\" data-id=\"${movie.id}\" id=\"watch-trailer-btn\">Watch trailer</button>\n        </div>\n      </div>\n    `;\n\n\n\n    function getStarRating(voteAverage) {\n        const rating = voteAverage / 2; // 10 üzerinden 5'e indir\n        const fullStars = Math.floor(rating);\n        const hasHalfStar = rating % 1 >= 0.25 && rating % 1 <= 0.75;\n        const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);\n      \n        let starsHTML = '';\n      \n        for (let i = 0; i < fullStars; i++) {\n          starsHTML += '<span class=\"star full\">★</span>';\n        }\n      \n        if (hasHalfStar) {\n          starsHTML += '<span class=\"star half\">★</span>';\n        }\n      \n        for (let i = 0; i < emptyStars; i++) {\n          starsHTML += '<span class=\"star empty\">☆</span>';\n        }\n      \n        return starsHTML;\n      }\n      \n\n\n    document.getElementById('more-details-btn').addEventListener('click', () => {\n      const event = new CustomEvent('openDetailsModal', { detail: { id: movie.id } });\n      window.dispatchEvent(event);\n    });\n\n    document.getElementById('watch-trailer-btn').addEventListener('click', () => {\n      const event = new CustomEvent('openTrailerModal', { detail: { id: movie.id } });\n      window.dispatchEvent(event);\n    });\n\n  } catch (err) {\n    console.error('Hata oluştu:', err);\n    renderFallback(container);\n  }\n}\n\nfunction renderFallback(container) {\n  container.style.backgroundImage = `url('../img/heroDefault.png')`; // Projeye varsayılan bir görsel ekle\n  container.innerHTML = `\n    <div class=\"hero-content\">\n      <h1 class=\"hero-title\">Welcome to Cinemania</h1>\n      <p class=\"hero-overview\">Discover the hottest movies trending today.</p>\n      <div class=\"hero-buttons\">\n        <a href=\"/catalog.html\" class=\"hero-button\">Get Started</a>\n      </div>\n    </div>\n  `;\n}\n\n","import './js/header';\nimport { renderHeroSection } from './js/hero.js';\n\nrenderHeroSection();\n\n\nexport async function setup() {\n    await loadHTML('#header-placeholder', './partials/header.html');\n    await loadHTML('#hero-placeholder', './partials/hero.html');\n  }\n  \n  async function loadHTML(selector, url) {\n    const res = await fetch(url);\n    const html = await res.text();\n    document.querySelector(selector).innerHTML = html;\n  }\n  "],"names":["mobileMenuBtn","mobileMenu","menuIcon","body","toggleMenu","isOpen","svgHref","e","link","currentPath","API_KEY","BASE_URL","IMAGE_BASE_URL","getTrendingToday","renderHeroSection","container","getStarRating","voteAverage","rating","fullStars","hasHalfStar","emptyStars","starsHTML","i","movies","renderFallback","movie","_a","event","err"],"mappings":"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"}