{"version":3,"file":"main-CbsX7FoZ.js","sources":["../../src/js/hero.js","../../src/js/upcoming-this-month.js","../../src/js/header.js","../../src/js/weekly-trends.js","../../src/js/footer.js","../../src/js/pop-up-movie-card.js","../../src/js/fetchMovies.js","../../src/js/pop-up-trailer-card.js","../../src/js/favorite-movies.js","../../src/main.js"],"sourcesContent":["// hero.js\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/original';\nconst API_KEY = '0f552bbb3a7946c71382d336324ac39a'; // Make sure this matches your favorite.js API key\n\nexport async function getTrendingToday() {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n    );\n    const data = await response.json();\n    return data.results;\n  } catch (error) {\n    console.error('Error fetching trending movies:', error);\n    return [];\n  }\n}\n\nexport async function renderHeroSection() {\n  const container = document.getElementById('hero-section');\n  if (!container) return;\n  \n  try {\n    const movies = await getTrendingToday();\n    \n    if (!movies || movies.length === 0) {\n      renderFallback(container);\n      return;\n    }\n    \n    const movie = movies[Math.floor(Math.random() * movies.length)];\n    \n    container.style.backgroundImage = `url('${IMAGE_BASE_URL}${movie.backdrop_path}')`;\n    container.innerHTML = `\n      <div class=\"hero-content\">\n        <h1 class=\"hero-title\">${movie.title}</h1>\n        <p class=\"hero-rating\">${getStarRating(movie.vote_average)}</p>\n        <p class=\"hero-overview\">${\n          movie.overview?.slice(0, 200) || 'No description available.'\n        }</p>\n        <div class=\"hero-buttons\">\n          <button class=\"hero-button\" data-id=\"${\n            movie.id\n          }\" id=\"more-details-btn\">More details</button>\n          <button class=\"hero-button\" data-id=\"${\n            movie.id\n          }\" id=\"watch-trailer-btn\">Watch trailer</button>\n        </div>\n      </div>\n    `;\n    \n    // Add event listeners after creating the elements\n    document\n      .getElementById('more-details-btn')\n      .addEventListener('click', () => {\n        const event = new CustomEvent('openDetailsModal', {\n          detail: { id: movie.id },\n        });\n        window.dispatchEvent(event);\n      });\n    \n    document\n      .getElementById('watch-trailer-btn')\n      .addEventListener('click', () => {\n        const event = new CustomEvent('openTrailerModal', {\n          detail: { id: movie.id },\n        });\n        window.dispatchEvent(event);\n      });\n  } catch (err) {\n    console.error('Error occurred:', err);\n    renderFallback(container);\n  }\n}\n\nfunction getStarRating(voteAverage) {\n  const rating = voteAverage / 2; // Convert from 10-scale to 5-scale\n  const fullStars = Math.floor(rating);\n  const hasHalfStar = rating % 1 >= 0.25 && rating % 1 <= 0.75;\n  const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);\n  \n  let starsHTML = '';\n  \n  for (let i = 0; i < fullStars; i++) {\n    starsHTML += '<span class=\"star full\">★</span>';\n  }\n  \n  if (hasHalfStar) {\n    starsHTML += '<span class=\"star half\">★</span>';\n  }\n  \n  for (let i = 0; i < emptyStars; i++) {\n    starsHTML += '<span class=\"star empty\">☆</span>';\n  }\n  \n  return starsHTML;\n}\n\nfunction renderFallback(container) {\n  container.style.backgroundImage = `url('../img/heroDefault.png')`;\n  container.innerHTML = `\n    <div class=\"hero-content\">\n      <h1 class=\"hero-title\">Welcome to Cinemania</h1>\n      <p class=\"hero-overview\">Discover the hottest movies trending today.</p>\n      <div class=\"hero-buttons\">\n        <a href=\"/catalog.html\" class=\"hero-button\">Get Started</a>\n      </div>\n    </div>\n  `;\n}\n","// upcoming.js\nexport async function getTrendingToday() {\n  const API_KEY = '04c35731a5ee918f014970082a0088b1';\n  const response = await fetch(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n  );\n  const data = await response.json();\n  return data.results;\n}\n\nexport const IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/original';\n\nexport async function renderUpcomingSection() {\n  const container = document.getElementById('upcoming-section');\n  if (!container) return;\n  \n  try {\n    // Get current date info for the monthly releases\n    const currentDate = new Date();\n    const year = currentDate.getFullYear();\n    const month = String(currentDate.getMonth() + 1).padStart(2, '0');\n    const firstDay = `${year}-${month}-01`;\n    const lastDay = new Date(year, month, 0).getDate();\n    const lastDayOfMonth = `${year}-${month}-${lastDay}`;\n    \n    // Get genre map\n    const API_KEY = '04c35731a5ee918f014970082a0088b1';\n    const BASE_URL = 'https://api.themoviedb.org/3';\n    const genreMap = {};\n    \n    // Get genres first\n    const genreResponse = await fetch(`${BASE_URL}/genre/movie/list?api_key=${API_KEY}`);\n    const genreData = await genreResponse.json();\n    \n    genreData.genres.forEach(genre => {\n      genreMap[genre.id] = genre.name;\n    });\n    \n    // Get monthly releases\n    const url = `${BASE_URL}/discover/movie?api_key=${API_KEY}&primary_release_date.gte=${firstDay}&primary_release_date.lte=${lastDayOfMonth}&sort_by=popularity.desc`;\n    const response = await fetch(url);\n    const data = await response.json();\n    const films = data.results;\n    \n    if (!films || films.length === 0) {\n      container.innerHTML = '<p id=\"no-movie-message\">No movies found for this month.</p>';\n      return;\n    }\n    \n    // Get or set featured movie\n    let randomFilm = JSON.parse(localStorage.getItem('featuredUpcomingMovie'));\n    \n    if (!randomFilm) {\n      randomFilm = films[Math.floor(Math.random() * films.length)];\n      localStorage.setItem('featuredUpcomingMovie', JSON.stringify(randomFilm));\n    }\n    \n    // Create HTML structure like in the first image\n    container.innerHTML = `\n      <h2>UPCOMING THIS MONTH</h2>\n      <div class=\"upcoming-movie-card\">\n        <div class=\"movie-poster\" style=\"background-image: url(${IMAGE_BASE_URL}${randomFilm.backdrop_path})\"></div>\n        <div class=\"movie-details\">\n          <h3 class=\"upcoming-movie-name\">${randomFilm.title}</h3>\n          \n          <div class=\"movie-info\">\n            <div class=\"info-row\">\n              <span class=\"info-label\">Release date</span>\n              <span class=\"info-date-value\">${randomFilm.release_date}</span>\n            </div>\n            \n            <div class=\"info-row\">\n              <span class=\"info-label\">Vote / Votes</span>\n              <div class=\"votes-container\">\n                <span class=\"vote-box\">${randomFilm.vote_average.toFixed(1)}</span>\n                <span class=\"vote-box\">${randomFilm.vote_count}</span>\n              </div>\n            </div>\n            \n            <div class=\"info-row\">\n              <span class=\"info-label\">Popularity</span>\n              <span class=\"info-popularity-value\">${Math.round(randomFilm.popularity)}</span>\n            </div>\n            \n            <div class=\"info-row\">\n              <span class=\"info-label\">Genre</span>\n              <span class=\"info-genre-value\">${randomFilm.genre_ids.map(id => genreMap[id]).join(', ')}</span>\n            </div>\n          </div>\n          \n          <div class=\"about-section\">\n            <h4>ABOUT</h4>\n            <p class=\"movieabout\">${randomFilm.overview}</p>\n          </div>\n          \n          <button class=\"btn-upcoming\">Add to my library</button>\n        </div>\n      </div>\n    `;\n    \n    // Set up library button functionality\n    setupLibraryButton(randomFilm);\n    \n  } catch (error) {\n    console.error('Error:', error);\n    container.innerHTML = '<p>An error occurred. Please try again later.</p>';\n  }\n}\n\nfunction setupLibraryButton(movie) {\n  const libraryBtn = document.querySelector('.btn-upcoming');\n  if (!libraryBtn) return;\n  \n  const libraryKey = 'myLibrary';\n  let library = JSON.parse(localStorage.getItem(libraryKey)) || [];\n  \n  // Check if movie is already in library\n  const isInLibrary = library.some(film => film.id === movie.id);\n  \n  // Update button text\n  libraryBtn.textContent = isInLibrary ? 'Remove from My Library' : 'Add to my library';\n  \n  // Update button class\n  libraryBtn.classList.add(isInLibrary ? 'clicked' : 'default');\n  \n  // Set up click event\n  libraryBtn.addEventListener('click', () => {\n    const isCurrentlyInLibrary = library.some(film => film.id === movie.id);\n    \n    if (isCurrentlyInLibrary) {\n      // Remove from library\n      library = library.filter(film => film.id !== movie.id);\n      libraryBtn.textContent = 'Add to my library';\n      libraryBtn.classList.remove('clicked');\n      libraryBtn.classList.add('default');\n    } else {\n      // Add to library\n      library.push({ \n        id: movie.id, \n        title: movie.title,\n        poster_path: movie.poster_path,\n        backdrop_path: movie.backdrop_path,\n        vote_average: movie.vote_average,\n        vote_count: movie.vote_count,\n        genre_ids: movie.genre_ids,\n        overview: movie.overview,\n        release_date: movie.release_date,\n        popularity: movie.popularity\n      });\n      \n      libraryBtn.textContent = 'Remove from My Library';\n      libraryBtn.classList.remove('default');\n      libraryBtn.classList.add('clicked');\n      \n      // Show notification\n      showNotification();\n    }\n    \n    localStorage.setItem(libraryKey, JSON.stringify(library));\n  });\n  \n  // Set up hover effects\n  libraryBtn.addEventListener('mouseenter', () => {\n    if (!libraryBtn.classList.contains('clicked')) {\n      libraryBtn.classList.add('hovered');\n    }\n  });\n  \n  libraryBtn.addEventListener('mouseleave', () => {\n    libraryBtn.classList.remove('hovered');\n  });\n}\n\nfunction showNotification() {\n  const overlay = document.getElementById('overlay');\n  const notification = document.getElementById('notification');\n  \n  if (!overlay || !notification) return;\n  \n  overlay.classList.remove('hidden');\n  notification.classList.remove('hidden');\n  \n  setTimeout(() => {\n    overlay.classList.add('hidden');\n    notification.classList.add('hidden');\n  }, 2000);\n}\n\n// Initialize the upcoming section when DOM is loaded\ndocument.addEventListener('DOMContentLoaded', () => {\n  renderUpcomingSection();\n});","document.addEventListener('DOMContentLoaded', () => {\n  const switcher = document.getElementById('theme-switcher');\n\n  if (!switcher) {\n    console.error('theme-switcher elementi bulunamadı!');\n    return;\n  }\n\n  switcher.addEventListener('click', () => {\n    document.body.classList.toggle('dark-mode');\n  });\n\n  // Menü butonuna tıklanınca navbar içinde .active sınıfı eklenir ve nav-menu görünür olur\n  const menuButton = document.querySelector('.btn');\n  const navbar = document.querySelector('.navbar');\n\n  menuButton.addEventListener('click', () => {\n    navbar.classList.toggle('active');\n  });\n\n  // Navbar bağlantılarında active sınıfını değiştirme\n  const navLinks = document.querySelectorAll('.nav-menu a');\n\n  navLinks.forEach(link => {\n    link.addEventListener('click', () => {\n      // Tüm linklerden active sınıfını kaldır\n      navLinks.forEach(link => link.classList.remove('active'));\n      // Tıklanan linke active sınıfını ekle\n      link.classList.add('active');\n    });\n  });\n\n  // Sayfa yüklendiğinde, hangi sayfada olduğuna göre aktif linki ayarla\n  const currentPage = window.location.pathname.split('/').pop();\n  const activeLink = Array.from(navLinks).find(link =>\n    link.href.includes(currentPage)\n  );\n\n  if (activeLink) {\n    activeLink.classList.add('active');\n  }\n});\n","async function fetchWeeklyTrendingMovies() {\n  const response = await fetch(\n    'https://api.themoviedb.org/3/trending/movie/week?language=tr-TR',\n    {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5ZWJmOWU4MzdkOWVmNGZlZDZiZTAzY2RlZTAyMTZiNSIsIm5iZiI6MTc0MjkxNzcyNC4zOTYsInN1YiI6IjY3ZTJkMDVjZDcwYzYxNTkwMzc1ZTgzNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.mGfFevHBMVfVG3Aha3atAbsBAX0sx3BUJdHGcEDZwAk',\n      },\n    }\n  );\n\n  const data = await response.json();\n  return data.results;\n}\n\nconst genreMap = {\n  28: 'Aksiyon',\n  12: 'Macera',\n  16: 'Animasyon',\n  35: 'Komedi',\n  80: 'Suç',\n  99: 'Belgesel',\n  18: 'Dram',\n  10751: 'Aile',\n  14: 'Fantastik',\n  36: 'Tarih',\n  27: 'Korku',\n  10402: 'Müzik',\n  9648: 'Gizem',\n  10749: 'Romantik',\n  878: 'Bilim Kurgu',\n  10770: 'TV Filmi',\n  53: 'Gerilim',\n  10752: 'Savaş',\n  37: 'Western',\n};\n\nfunction getGenreNames(genreIds) {\n  return genreIds.map(id => genreMap[id] || 'Bilinmeyen').join(', ');\n}\n\nfunction createStarRating(rating) {\n  const fullStars = Math.floor(rating / 2);\n  const halfStar = rating % 2 !== 0 ? 1 : 0;\n  const emptyStars = 5 - fullStars - halfStar;\n\n  let stars = '';\n  for (let i = 0; i < fullStars; i++) {\n    stars += '<i class=\"fa-solid fa-star\"></i>';\n  }\n  if (halfStar) {\n    stars += '<i class=\"fa-solid fa-star-half\"></i>';\n  }\n  for (let i = 0; i < emptyStars; i++) {\n    stars += '<i class=\"fa-regular fa-star\"></i>';\n  }\n\n  return stars;\n}\n\nasync function loadTrendingMovies() {\n  const movies = await fetchWeeklyTrendingMovies();\n  if (!movies || movies.length === 0) return;\n\n  const moviesContainer = document.querySelector('.weekly-movies-container');\n  moviesContainer.innerHTML = '';\n\n  const screenWidth = window.innerWidth;\n  let numberOfMovies = 3;\n  if (screenWidth <= 768) {\n    numberOfMovies = 1;\n  }\n\n  const limitedMovies = movies.slice(0, numberOfMovies);\n\n  limitedMovies.forEach(movie => {\n    const movieElement = document.createElement('div');\n    movieElement.classList.add('weekly-trend-movie');\n\n    const genreNames = getGenreNames(movie.genre_ids);\n\n    movieElement.innerHTML = `\n      <div class=\"title\">\n        <h3>${movie.title}</h3>\n        <div class=\"movie-about\">\n          <div class=\"movie-title\">\n            <p>${genreNames}</p>\n            <span> | </span>\n            <span>${movie.release_date}</span>\n          </div>\n\n        </div>\n        <div class=\"star-bar\">${createStarRating(movie.vote_average)}</div>\n      </div>\n    `;\n\n    movieElement.style.background = `linear-gradient(to bottom, #00000000 0%, #000000 100%), url('https://image.tmdb.org/t/p/w500${movie.poster_path}')`;\n    movieElement.style.backgroundSize = 'cover';\n    movieElement.style.backgroundPosition = 'center';\n    movieElement.style.backgroundRepeat = 'no-repeat';\n\n    moviesContainer.appendChild(movieElement);\n  });\n}\n\nwindow.addEventListener('resize', loadTrendingMovies);\n\nloadTrendingMovies();","// Footer yükleme fonksiyonu\nconst loadFooter = async () => {\n  const target = document.getElementById('footer');\n  if (!target) return;\n\n  try {\n    target.innerHTML = await fetch('./partials/footer.html').then(r =>\n      r.text()\n    );\n  } catch (e) {\n    console.error('Footer yükleme hatası:', e);\n  }\n};\n\n// Sayfa yüklendiğinde çalıştır\nwindow.addEventListener('load', loadFooter);\n","document.addEventListener('DOMContentLoaded', () => {\n  const modal = document.querySelector('.modal-details');\n  const closeBtn = modal.querySelector('.modal-details__close');\n  const libraryBtn = modal.querySelector('.modal-details__library-btn');\n  let currentMovieId = null;\n\n  const genreMap = {\n    28: 'Action',\n    12: 'Adventure',\n    16: 'Animation',\n    35: 'Comedy',\n    80: 'Crime',\n    99: 'Documentary',\n    18: 'Drama',\n    10751: 'Family',\n    14: 'Fantasy',\n    36: 'History',\n    27: 'Horror',\n    10402: 'Music',\n    9648: 'Mystery',\n    10749: 'Romance',\n    878: 'Sci-Fi',\n    10770: 'TV Movie',\n    53: 'Thriller',\n    10752: 'War',\n    37: 'Western',\n  };\n\n  const myLibrary = JSON.parse(localStorage.getItem('myLibrary')) || [];\n  // Modal kapatma\n  function closeModal() {\n    modal.classList.remove('active');\n    document.body.style.overflow = 'auto';\n  }\n\n  closeBtn.addEventListener('click', closeModal);\n  modal.addEventListener('click', e => e.target === modal && closeModal());\n  document.addEventListener('keydown', e => e.key === 'Escape' && closeModal());\n\n  // Kütüphane kontrol ve güncelleme\n  function getLibrary() {\n    return JSON.parse(localStorage.getItem('myLibrary')) || [];\n  }\n\n  function setLibrary(library) {\n    localStorage.setItem('myLibrary', JSON.stringify(library));\n  }\n\n  function isInLibrary(id) {\n    return getLibrary().some(movie => movie.id === id);\n  }\n\n  function updateLibraryButton(id) {\n    const inLibrary = isInLibrary(id);\n    libraryBtn.textContent = inLibrary\n      ? 'Remove from library'\n      : 'Add to library';\n    libraryBtn.dataset.action = inLibrary ? 'remove' : 'add';\n  }\n\n  function toggleLibrary(movie) {\n    const library = getLibrary();\n    const index = library.findIndex(item => item.id === movie.id);\n\n    // Genre eşleştirme\n    if (!movie.genres && movie.genre_ids) {\n      movie.genres = movie.genre_ids.map(id => ({\n        id,\n        name: genreMap[id] || 'Unknown',\n      }));\n    }\n\n    index === -1 ? library.push(movie) : library.splice(index, 1);\n    setLibrary(library);\n    updateLibraryButton(movie.id);\n  }\n\n  libraryBtn.addEventListener('click', async () => {\n    if (!currentMovieId) return;\n    const movie = await fetchMovieDetails(currentMovieId);\n    movie && toggleLibrary(movie);\n  });\n\n  // API'den film bilgisi çekme\n  async function fetchMovieDetails(id) {\n    const API_KEY = 'f1a0a8dd870a150fcd20cd47eff55f54';\n    const URL = `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`;\n\n    try {\n      const res = await fetch(URL);\n      return res.ok ? await res.json() : null;\n    } catch (err) {\n      console.error('Film verisi alınamadı:', err);\n      return null;\n    }\n  }\n\n  // Modal verisini doldur ve göster\n  async function showModal(id) {\n    const movie = await fetchMovieDetails(id);\n    if (!movie) return;\n\n    currentMovieId = movie.id;\n\n    modal.querySelector(\n      '.modal-details__image'\n    ).src = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n    modal.querySelector('.modal-details__image').alt = movie.title;\n    modal.querySelector('.modal-details__title').textContent = movie.title;\n    modal.querySelector('.modal-details__vote').textContent =\n      movie.vote_average.toFixed(1);\n    modal.querySelector('.modal-details__votes').textContent = movie.vote_count;\n    modal.querySelector('.modal-details__popularity').textContent =\n      movie.popularity.toFixed(1);\n    modal.querySelector('.modal-details__genre').textContent = movie.genres\n      .map(g => g.name)\n      .join(', ');\n    modal.querySelector('.modal-details__about-text').textContent =\n      movie.overview;\n\n    updateLibraryButton(movie.id);\n    modal.classList.add('active');\n    document.body.style.overflow = 'hidden';\n  }\n\n  // Dışa aktar\n  window.movieModal = {\n    show: showModal,\n    close: closeModal,\n  };\n});\n","const API_KEY = 'f1a0a8dd870a150fcd20cd47eff55f54';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\n/**\n * Genel API fetch fonksiyonu\n * @param {string} baseURL\n * @param {string} endpoint\n * @param {object} params\n */\nexport async function fetchMovies(baseURL, endpoint, params = {}) {\n  const url = new URL(baseURL + endpoint);\n\n  // Temel parametreler\n  url.searchParams.append('api_key', API_KEY);\n  url.searchParams.append('language', 'en-US');\n\n  // Ekstra parametreler\n  Object.entries(params).forEach(([key, value]) => {\n    url.searchParams.append(key, value);\n  });\n\n  try {\n    const response = await fetch(url);\n    if (!response.ok) throw new Error(`API error: ${response.status}`);\n    return await response.json();\n  } catch (error) {\n    console.error('fetchMovies error:', error);\n    return { results: [] };\n  }\n}\n\nexport { BASE_URL };\n","import { fetchMovies, BASE_URL } from './fetchMovies';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const heroTrailerId = document.querySelector('.hero'); // film id'si data-movieid içinde olmalı\n  const modal = document.querySelector('.modal-trailer');\n  const closeBtn = modal.querySelector('.modal-trailer__close');\n  const watchTrailerBtn = document.querySelector('.hero-button-watchTrailer');\n  const iframe = modal.querySelector('.modal-trailer__video');\n\n  function stopVideo() {\n    const videoSrc = iframe.src;\n    iframe.src = videoSrc;\n  }\n\n  function closeModal() {\n    modal.classList.remove('active');\n    document.body.style.overflow = 'auto';\n    stopVideo();\n  }\n\n  function openModal() {\n    modal.classList.add('active');\n    document.body.style.overflow = 'hidden';\n\n    const movieId = heroTrailerId.dataset.movieid;\n\n    fetchMovies(BASE_URL, `/movie/${movieId}/videos`).then(videoData => {\n      const officialTrailer = videoData.results.find(\n        video =>\n          video.official === true &&\n          video.site === 'YouTube' &&\n          video.type === 'Trailer'\n      );\n\n      if (officialTrailer) {\n        const youtubeUrl = `https://www.youtube.com/embed/${officialTrailer.key}`;\n        iframe.src = youtubeUrl;\n      } else {\n        console.log('No official YouTube trailer found.');\n      }\n    });\n  }\n\n  if (watchTrailerBtn) {\n    watchTrailerBtn.addEventListener('click', e => {\n      e.preventDefault();\n      openModal();\n    });\n  }\n\n  if (closeBtn) {\n    closeBtn.addEventListener('click', e => {\n      e.preventDefault();\n      closeModal();\n    });\n  }\n\n  if (modal) {\n    modal.addEventListener('click', e => {\n      if (e.target === modal) {\n        closeModal();\n      }\n    });\n  }\n\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && modal.classList.contains('active')) {\n      closeModal();\n    }\n  });\n\n  window.trailerModal = {\n    open: openModal,\n    close: closeModal,\n  };\n});\n","// favorite.js\nexport const APIKey = '0f552bbb3a7946c71382d336324ac39a';\nexport const genreMap = {\n  28: 'Action',\n  12: 'Adventure',\n  /* other genres */\n};\n\nexport function initializeLibrary() {\n  const container = document.getElementById('film-list');\n  const message = document.getElementById('empty-message');\n  let page = 1;\n  \n  // Load library from localStorage\n  const library = JSON.parse(localStorage.getItem('library')) || [];\n  if (library.length === 0) {\n    showEmptyLibraryMessage();\n  } else {\n    displayMovies(library);\n  }\n  \n  // Initialize event listeners\n  initEventListeners();\n}\n\nfunction initEventListeners() {\n  // Add event listeners for load button if it exists\n  const loadBtn = document.querySelector('.load-btn');\n  if (loadBtn) {\n    loadBtn.addEventListener('click', () => {\n      page++;\n      fetchMovies();\n    });\n  }\n  \n  // Add event listener for add/remove buttons\n  document.addEventListener('click', e => {\n    if (e.target.classList.contains('add-remote-btn')) {\n      const movieId = parseInt(e.target.dataset.id);\n      if (isInLibrary(movieId)) {\n        removeFromLibrary(movieId);\n      } else {\n        addToLibrary(movieId);\n      }\n    }\n  });\n}\n\nexport async function fetchMovies() {\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/popular?api_key=${APIKey}&page=${page}`\n    );\n    const data = await response.json();\n    displayMovies(data.results);\n  } catch (error) {\n    console.error('Could not fetch movie data:', error);\n  }\n}\n\nexport function displayMovies(movies) {\n  const container = document.getElementById('film-list');\n  const message = document.getElementById('empty-message');\n  \n  if (!container) return;\n  \n  container.innerHTML = '';\n  if (message) message.innerHTML = '';\n  \n  movies.forEach(movie => {\n    const movieCard = document.createElement('li');\n    const filmCard = document.createElement(\"div\");\n    filmCard.innerHTML = `\n      <a href=\"https://image.tmdb.org/t/p/original/${movie.poster_path}\" class=\"lightbox\">\n        <img class=\"movie-image\" alt=\"${movie.original_title}\" src=\"https://image.tmdb.org/t/p/w500/${movie.poster_path}\"/>\n      </a>\n      <h3>${movie.original_title}</h3>\n      <p class=\"popularity\">Popularity ${movie.popularity}</p>\n      <p class=\"genre\">${movie.genre_ids.map(id => genreMap[id]).join(',')}|${\n        movie.release_date ? movie.release_date.split('-')[0] : 'N/A'\n      }</p>\n      <button class=\"add-remote-btn\" data-id=\"${movie.id}\">\n        ${isInLibrary(movie.id) ? 'Remove from Library' : 'Add to Library'}\n      </button>\n    `;\n    movieCard.classList.add('movieCard');\n    filmCard.classList.add(\"filmCard\");\n    movieCard.appendChild(filmCard);\n    container.appendChild(movieCard);\n  });\n}\n\nfunction showEmptyLibraryMessage() {\n  const message = document.getElementById('empty-message');\n  if (!message) return;\n  \n  const markup = `\n    <p class=\"markup\">\n      <span>OOOPS..</span>\n      <span>We are very sorry!</span>\n      <span>You don't have any movies at your library</span>\n    </p>\n    <button type=\"button\" class=\"searchBtn\">Search Movie</button>\n  `;\n  message.innerHTML = markup;\n  \n  const searchBtn = document.querySelector('.searchBtn');\n  if (searchBtn) {\n    searchBtn.addEventListener('click', () => {\n      fetchMovies();\n    });\n  }\n}\n\nfunction isInLibrary(id) {\n  const library = JSON.parse(localStorage.getItem('library')) || [];\n  return library.some(movie => movie.id === id);\n}\n\nfunction addToLibrary(id) {\n  // Implement adding to library\n  // You'll need to fetch the movie details by ID first\n}\n\nfunction removeFromLibrary(id) {\n  let library = JSON.parse(localStorage.getItem('library')) || [];\n  const updatedStorage = library.filter(movie => movie.id !== id);\n  localStorage.setItem('library', JSON.stringify(updatedStorage));\n  \n  // Refresh the display\n  if (updatedStorage.length === 0) {\n    showEmptyLibraryMessage();\n  } else {\n    displayMovies(updatedStorage);\n  }\n}","import { renderHeroSection } from './js/hero.js';\nimport { renderUpcomingSection } from './js/upcoming-this-month.js';\nimport './js/header.js';\nimport './js/weekly-trends.js';\nimport './js/footer.js';\nimport './js/pop-up-movie-card.js';\nimport './js/pop-up-trailer-card.js';\nimport { initializeLibrary } from './js/favorite-movies';\nrenderUpcomingSection();\n\nrenderHeroSection();\n\n\nexport async function setup() {\n  await loadHTML('#header-placeholder', './partials/header.html');\n  await loadHTML('#hero-placeholder', './partials/hero.html');\n  await loadHTML(\n    '#upcoming-this-month-placeholder',\n    './partials/upcoming-this-month.html');\n}\n\nasync function loadHTML(selector, url) {\n  const res = await fetch(url);\n  const html = await res.text();\n  document.querySelector(selector).innerHTML = html;\n}\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Initialize the hero section\n    if (document.getElementById('hero-section')) {\n      renderHeroSection();\n    }\n    \n    // Initialize the movie library\n    if (document.getElementById('film-list')) {\n      initializeLibrary();\n    }\n  });\n  \n\n\n\n\n\n\n"],"names":["IMAGE_BASE_URL","API_KEY","getTrendingToday","error","renderHeroSection","container","movies","renderFallback","movie","getStarRating","_a","event","err","voteAverage","rating","fullStars","hasHalfStar","emptyStars","starsHTML","i","renderUpcomingSection","currentDate","year","month","firstDay","lastDay","lastDayOfMonth","BASE_URL","genreMap","genre","url","films","randomFilm","id","setupLibraryButton","libraryBtn","libraryKey","library","isInLibrary","film","showNotification","overlay","notification","switcher","menuButton","navbar","navLinks","link","currentPage","activeLink","fetchWeeklyTrendingMovies","getGenreNames","genreIds","createStarRating","halfStar","stars","loadTrendingMovies","moviesContainer","screenWidth","numberOfMovies","movieElement","genreNames","loadFooter","target","r","e","modal","closeBtn","currentMovieId","closeModal","getLibrary","setLibrary","updateLibraryButton","inLibrary","toggleLibrary","index","item","fetchMovieDetails","URL","res","showModal","g","fetchMovies","baseURL","endpoint","params","key","value","response","heroTrailerId","watchTrailerBtn","iframe","stopVideo","videoSrc","openModal","movieId","videoData","officialTrailer","video","youtubeUrl","APIKey","initializeLibrary","showEmptyLibraryMessage","displayMovies","initEventListeners","loadBtn","removeFromLibrary","data","message","movieCard","filmCard","markup","searchBtn","updatedStorage"],"mappings":"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"}