{"version":3,"file":"main-B4iuOu9g.js","sources":["../../src/js/header.js","../../src/js/weekly-trends.js","../../src/js/footer.js","../../src/js/heroTmdb.js","../../src/js/hero.js","../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  const switcher = document.getElementById('theme-switcher');\n\n  if (!switcher) {\n    console.error('theme-switcher elementi bulunamadı!');\n    return;\n  }\n\n  switcher.addEventListener('click', () => {\n    document.body.classList.toggle('dark-mode');\n  });\n\n  // Menü butonuna tıklanınca navbar içinde .active sınıfı eklenir ve nav-menu görünür olur\n  const menuButton = document.querySelector('.btn');\n  const navbar = document.querySelector('.navbar');\n\n  menuButton.addEventListener('click', () => {\n    navbar.classList.toggle('active');\n  });\n\n  // Navbar bağlantılarında active sınıfını değiştirme\n  const navLinks = document.querySelectorAll('.nav-menu a');\n\n  navLinks.forEach(link => {\n    link.addEventListener('click', () => {\n      // Tüm linklerden active sınıfını kaldır\n      navLinks.forEach(link => link.classList.remove('active'));\n      // Tıklanan linke active sınıfını ekle\n      link.classList.add('active');\n    });\n  });\n\n  // Sayfa yüklendiğinde, hangi sayfada olduğuna göre aktif linki ayarla\n  const currentPage = window.location.pathname.split('/').pop();\n  const activeLink = Array.from(navLinks).find(link =>\n    link.href.includes(currentPage)\n  );\n\n  if (activeLink) {\n    activeLink.classList.add('active');\n  }\n});\n","async function fetchWeeklyTrendingMovies() {\n  const response = await fetch(\n    'https://api.themoviedb.org/3/trending/movie/week?language=tr-TR',\n    {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5ZWJmOWU4MzdkOWVmNGZlZDZiZTAzY2RlZTAyMTZiNSIsIm5iZiI6MTc0MjkxNzcyNC4zOTYsInN1YiI6IjY3ZTJkMDVjZDcwYzYxNTkwMzc1ZTgzNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.mGfFevHBMVfVG3Aha3atAbsBAX0sx3BUJdHGcEDZwAk',\n      },\n    }\n  );\n\n  const data = await response.json();\n  return data.results;\n}\n\nconst genreMap = {\n  28: 'Aksiyon',\n  12: 'Macera',\n  16: 'Animasyon',\n  35: 'Komedi',\n  80: 'Suç',\n  99: 'Belgesel',\n  18: 'Dram',\n  10751: 'Aile',\n  14: 'Fantastik',\n  36: 'Tarih',\n  27: 'Korku',\n  10402: 'Müzik',\n  9648: 'Gizem',\n  10749: 'Romantik',\n  878: 'Bilim Kurgu',\n  10770: 'TV Filmi',\n  53: 'Gerilim',\n  10752: 'Savaş',\n  37: 'Western',\n};\n\nfunction getGenreNames(genreIds) {\n  return genreIds.map(id => genreMap[id] || 'Bilinmeyen').join(', ');\n}\n\nfunction createStarRating(rating) {\n  const fullStars = Math.floor(rating / 2);\n  const halfStar = rating % 2 !== 0 ? 1 : 0;\n  const emptyStars = 5 - fullStars - halfStar;\n\n  let stars = '';\n  for (let i = 0; i < fullStars; i++) {\n    stars += '<i class=\"fa-solid fa-star\"></i>';\n  }\n  if (halfStar) {\n    stars += '<i class=\"fa-solid fa-star-half\"></i>';\n  }\n  for (let i = 0; i < emptyStars; i++) {\n    stars += '<i class=\"fa-regular fa-star\"></i>';\n  }\n\n  return stars;\n}\n\nasync function loadTrendingMovies() {\n  const movies = await fetchWeeklyTrendingMovies();\n  if (!movies || movies.length === 0) return;\n\n  const moviesContainer = document.querySelector('.weekly-movies-container');\n  moviesContainer.innerHTML = '';\n\n  const screenWidth = window.innerWidth;\n  let numberOfMovies = 3;\n  if (screenWidth <= 768) {\n    numberOfMovies = 1;\n  }\n\n  const limitedMovies = movies.slice(0, numberOfMovies);\n\n  limitedMovies.forEach(movie => {\n    const movieElement = document.createElement('div');\n    movieElement.classList.add('weekly-trend-movie');\n\n    const genreNames = getGenreNames(movie.genre_ids);\n\n    movieElement.innerHTML = `\n      <div class=\"title\">\n        <h3>${movie.title}</h3>\n        <div class=\"movie-about\">\n          <div class=\"movie-title\">\n            <p>${genreNames}</p>\n            <span> | </span>\n            <span>${movie.release_date}</span>\n          </div>\n\n        </div>\n        <div class=\"star-bar\">${createStarRating(movie.vote_average)}</div>\n      </div>\n    `;\n\n    movieElement.style.background = `linear-gradient(to bottom, #00000000 0%, #000000 100%), url('https://image.tmdb.org/t/p/w500${movie.poster_path}')`;\n    movieElement.style.backgroundSize = 'cover';\n    movieElement.style.backgroundPosition = 'center';\n    movieElement.style.backgroundRepeat = 'no-repeat';\n\n    moviesContainer.appendChild(movieElement);\n  });\n}\n\nwindow.addEventListener('resize', loadTrendingMovies);\n\nloadTrendingMovies();","// Footer yükleme fonksiyonu\nconst loadFooter = async () => {\n  const target = document.getElementById('footer');\n  if (!target) return;\n\n  try {\n    target.innerHTML = await fetch('./partials/footer.html').then(r =>\n      r.text()\n    );\n  } catch (e) {\n    console.error('Footer yükleme hatası:', e);\n  }\n};\n\n// Sayfa yüklendiğinde çalıştır\nwindow.addEventListener('load', loadFooter);\n","\nconst API_KEY = '0ce25b1b3df50695af6eae55a386f147'; \nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/original';\n\nexport async function getTrendingToday() {\n  const res = await fetch(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n  const data = await res.json();\n  return data.results;\n}\n\nexport { IMAGE_BASE_URL };\n\n","import { getTrendingToday, IMAGE_BASE_URL } from '../js/heroTmdb';\n\nexport async function renderHeroSection() {\n  const container = document.getElementById('hero-section');\n  try {\n    const movies = await getTrendingToday();\n\n    if (!movies || movies.length === 0) {\n      renderFallback(container);\n      return;\n    }\n\n    const movie = movies[Math.floor(Math.random() * movies.length)];\n\n    container.style.backgroundImage = `url('${IMAGE_BASE_URL}${movie.backdrop_path}')`;\n    container.innerHTML = `\n      <div class=\"hero-content\">\n        <h1 class=\"hero-title\">${movie.title}</h1>\n        <p class=\"hero-rating\">${getStarRating(movie.vote_average)}</p>\n        <p class=\"hero-overview\">${movie.overview?.slice(0, 200) || 'No description available.'}</p>\n        <div class=\"hero-buttons\">\n          <button class=\"hero-button\" data-id=\"${movie.id}\" id=\"more-details-btn\">More details</button>\n          <button class=\"hero-button\" data-id=\"${movie.id}\" id=\"watch-trailer-btn\">Watch trailer</button>\n        </div>\n      </div>\n    `;\n\n\n\n    function getStarRating(voteAverage) {\n        const rating = voteAverage / 2; // 10 üzerinden 5'e indir\n        const fullStars = Math.floor(rating);\n        const hasHalfStar = rating % 1 >= 0.25 && rating % 1 <= 0.75;\n        const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);\n      \n        let starsHTML = '';\n      \n        for (let i = 0; i < fullStars; i++) {\n          starsHTML += '<span class=\"star full\">★</span>';\n        }\n      \n        if (hasHalfStar) {\n          starsHTML += '<span class=\"star half\">★</span>';\n        }\n      \n        for (let i = 0; i < emptyStars; i++) {\n          starsHTML += '<span class=\"star empty\">☆</span>';\n        }\n      \n        return starsHTML;\n      }\n      \n\n\n    document.getElementById('more-details-btn').addEventListener('click', () => {\n      const event = new CustomEvent('openDetailsModal', { detail: { id: movie.id } });\n      window.dispatchEvent(event);\n    });\n\n    document.getElementById('watch-trailer-btn').addEventListener('click', () => {\n      const event = new CustomEvent('openTrailerModal', { detail: { id: movie.id } });\n      window.dispatchEvent(event);\n    });\n\n  } catch (err) {\n    console.error('Hata oluştu:', err);\n    renderFallback(container);\n  }\n}\n\nfunction renderFallback(container) {\n  container.style.backgroundImage = `url('../img/heroDefault.png')`; // Projeye varsayılan bir görsel ekle\n  container.innerHTML = `\n    <div class=\"hero-content\">\n      <h1 class=\"hero-title\">Welcome to Cinemania</h1>\n      <p class=\"hero-overview\">Discover the hottest movies trending today.</p>\n      <div class=\"hero-buttons\">\n        <a href=\"/catalog.html\" class=\"hero-button\">Get Started</a>\n      </div>\n    </div>\n  `;\n}\n\n","import './js/header';\nimport './js/catalog';\nimport './js/weekly-trends';\nimport './js/footer';import { renderHeroSection } from './js/hero.js';\n\nrenderHeroSection();\n\n\nexport async function setup() {\n    await loadHTML('#header-placeholder', './partials/header.html');\n    await loadHTML('#hero-placeholder', './partials/hero.html');\n  }\n\n  async function loadHTML(selector, url) {\n    const res = await fetch(url);\n    const html = await res.text();\n    document.querySelector(selector).innerHTML = html;\n  }\n"],"names":["switcher","menuButton","navbar","navLinks","link","currentPage","activeLink","fetchWeeklyTrendingMovies","genreMap","getGenreNames","genreIds","id","createStarRating","rating","fullStars","halfStar","emptyStars","stars","i","loadTrendingMovies","movies","moviesContainer","screenWidth","numberOfMovies","movie","movieElement","genreNames","loadFooter","target","r","e","API_KEY","BASE_URL","IMAGE_BASE_URL","getTrendingToday","renderHeroSection","container","getStarRating","voteAverage","hasHalfStar","starsHTML","renderFallback","_a","event","err"],"mappings":"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"}